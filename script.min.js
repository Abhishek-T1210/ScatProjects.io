function closeCallbackPopup(){const e=document.getElementById("callbackPopup");e&&e.classList.remove("active")}function showAckPopup(){const e=document.getElementById("ackPopup");e&&(e.classList.add("active"),setTimeout(()=>{e.classList.remove("active")},3e3))}document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("loader");e&&window.addEventListener("load",()=>{setTimeout(()=>{e.classList.add("hidden")},1e3)});const t=document.getElementById("mobileToggle"),o=document.querySelector(".nav-menu");t&&o&&t.addEventListener("click",()=>{o.classList.toggle("active"),t.innerHTML=o.classList.contains("active")?'<i class="fas fa-times"></i>':'<i class="fas fa-bars"></i>'});const n=document.getElementById("header");n&&window.addEventListener("scroll",()=>{window.scrollY>50?n.classList.add("scrolled"):n.classList.remove("scrolled")});const s=document.querySelectorAll(".animate-on-scroll");if(s.length>0&&"IntersectionObserver"in window){const e=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(t.target.classList.add("animated"),e.unobserve(t.target))})},{root:null,rootMargin:"0px",threshold:.3});s.forEach(t=>e.observe(t))}const r=document.querySelectorAll(".filter-btn"),a=document.querySelectorAll(".portfolio-item");r.length>0&&a.length>0&&r.forEach(e=>{e.addEventListener("click",()=>{r.forEach(e=>e.classList.remove("active")),e.classList.add("active");const t=e.getAttribute("data-filter");a.forEach(e=>{const o=e.getAttribute("data-category");"all"===t||t===o?(e.style.display="block",setTimeout(()=>{e.classList.add("animated")},50)):(e.style.display="none",e.classList.remove("animated"))})})});const c=document.getElementById("portfolio-modal");if(c){const e=document.getElementById("modal-body"),t=document.querySelector(".modal-close"),o=document.querySelectorAll(".portfolio-overlay-btn");o.length>0&&e&&t&&(o.forEach(t=>{t.addEventListener("click",o=>{o.preventDefault();const n=t.closest(".portfolio-item").cloneNode(!0);e.innerHTML="",e.appendChild(n),c.style.display="flex",setTimeout(()=>{c.querySelector(".modal-content").classList.add("animated")},100)})}),t.addEventListener("click",()=>{c.style.display="none",c.querySelector(".modal-content").classList.remove("animated")}),c.addEventListener("click",e=>{e.target===c&&(c.style.display="none",c.querySelector(".modal-content").classList.remove("animated"))}))}const l=document.getElementById("contactForm"),i=document.getElementById("formProgressBar"),d=l?l.querySelectorAll(".form-input"):[];function m(){if(!i||0===d.length)return;const e=Array.from(d).filter(e=>""!==e.value.trim()).length/d.length*100;i.style.width=`${e}%`,100===e&&(i.style.background="linear-gradient(90deg, #22c55e, #16a34a)",setTimeout(()=>{i.style.background="linear-gradient(90deg, #4f46e5, #7c3aed)"},800))}function u(e){const t=e.target.closest(".form-group");if(t){t.classList.add("focused");const e=t.querySelector(".form-label");e&&(e.style.color="#4f46e5",e.style.transform="scale(1.02)")}}function y(e){const t=e.target.closest(".form-group");if(t){t.classList.remove("focused");const e=t.querySelector(".form-label");e&&(e.style.color="#475569",e.style.transform="scale(1)")}f(e.target)}function f(e){const t=e.id,o=e.value.trim(),n=e.parentElement.querySelector(".form-error");if(!n)return!0;let s=!0,r="";switch(t){case"name":/^[a-zA-Z\s]{3,}$/.test(o)||(s=!1,r="Name must be at least 3 characters");break;case"phone":/^\d{10}$/.test(o)||(s=!1,r="Enter a valid 10-digit phone number");break;case"branch":/^[a-zA-Z\s]{3,}$/.test(o)||(s=!1,r="Branch name must be at least 3 characters");break;case"project":o.length<10&&(s=!1,r="Description must be at least 10 characters")}return s?(n.textContent="",n.classList.remove("show"),e.style.borderColor="#22c55e"):(n.textContent=r,n.classList.add("show"),e.style.borderColor="#ef4444"),s}d.forEach(e=>{e.addEventListener("input",m),e.addEventListener("focus",u),e.addEventListener("blur",y)});document.querySelectorAll(".contact-detail").forEach((e,t)=>{e.style.animationDelay=.15*t+.4+"s"});document.querySelectorAll(".form-group").forEach((e,t)=>{e.style.animationDelay=.1*t+.2+"s"}),l&&l.addEventListener("submit",e=>{e.preventDefault(),function(){let e=!0;document.querySelectorAll(".form-error").forEach(e=>{e.textContent="",e.classList.remove("show")}),d.forEach(e=>e.style.borderColor="#e5e7eb");const t=document.getElementById("name"),o=document.getElementById("phone"),n=document.getElementById("branch"),s=document.getElementById("project");t&&!f(t)&&(e=!1);o&&!f(o)&&(e=!1);n&&!f(n)&&(e=!1);s&&!f(s)&&(e=!1);return e}()?function(){const e=l.querySelector(".form-submit");if(!e)return;e.classList.add("loading"),e.disabled=!0,function(e){const t=e.getBoundingClientRect();for(let e=0;e<10;e++){const o=document.createElement("div");o.style.position="fixed",o.style.left=`${t.left+t.width/2}px`,o.style.top=`${t.top+t.height/2}px`,o.style.width="3px",o.style.height="3px",o.style.background="#ffffff",o.style.borderRadius="50%",o.style.pointerEvents="none",o.style.zIndex="9999",document.body.appendChild(o);const n=2*Math.PI*e/10,s=80,r=Math.cos(n)*s,a=Math.sin(n)*s;o.animate([{transform:"translate(0, 0) scale(1)",opacity:1},{transform:`translate(${r}px, ${a}px) scale(0)`,opacity:0}],{duration:800,easing:"cubic-bezier(0.25, 0.46, 0.45, 0.94)"}).addEventListener("finish",()=>o.remove())}}(e),setTimeout(()=>{e.classList.remove("loading"),e.disabled=!1,function(e){const t=document.getElementById("popup");if(t){const o=t.querySelector("p");o&&(o.textContent=e),t.classList.add("active")}}("Your request has been submitted successfully. Our team will contact you shortly."),l.reset(),m();document.querySelectorAll(".form-error").forEach(e=>{e.textContent="",e.classList.remove("show")}),d.forEach(e=>e.style.borderColor="#e5e7eb"),e.style.background="linear-gradient(135deg, #22c55e, #16a34a)",setTimeout(()=>{e.style.background="linear-gradient(135deg, #4f46e5, #7c3aed)"},1500)},1200)}():(l.style.animation="shake 0.4s ease-in-out",setTimeout(()=>l.style.animation="",400))}),window.closePopup=function(){const e=document.getElementById("popup");e&&e.classList.remove("active")},document.querySelectorAll(".form-input[placeholder]").forEach(e=>{const t=e.getAttribute("placeholder");let o="",n=0;function s(){n<t.length&&(o+=t[n],e.setAttribute("placeholder",o),n++,setTimeout(s,120))}const r=new IntersectionObserver(t=>{t.forEach(t=>{t.isIntersecting&&(setTimeout(()=>{e.setAttribute("placeholder",""),o="",n=0,s()},400),r.unobserve(e))})});r.observe(e)})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.querySelectorAll("[data-animate]");if(e.length>0&&"IntersectionObserver"in window){const t=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){const o=e.target,n=o.dataset.animate,s=o.dataset.delay||"0s";o.style.animation=`${n} 0.6s ease ${s} forwards`,t.unobserve(o)}})},{root:null,rootMargin:"0px",threshold:.2});e.forEach(e=>t.observe(e))}const t=document.getElementById("contactForm"),o=document.getElementById("formProgressBar"),n=t?t.querySelectorAll(".form-input"):[];function s(){if(!o||0===n.length)return;const e=Array.from(n).filter(e=>""!==e.value.trim()).length/n.length*100;o.style.width=`${e}%`}function r(e){const t=e.id,o=e.value.trim(),n=e.parentElement.querySelector(".form-error");if(!n)return!0;let s=!0,r="";switch(t){case"name":/^[a-zA-Z\s]{3,}$/.test(o)||(s=!1,r="Name must be at least 3 characters");break;case"phone":/^\d{10}$/.test(o)||(s=!1,r="Enter a valid 10-digit phone number");break;case"branch":/^[a-zA-Z\s]{3,}$/.test(o)||(s=!1,r="Branch name must be at least 3 characters");break;case"project":o.length<10&&(s=!1,r="Description must be at least 10 characters")}return s?(n.textContent="",n.classList.remove("show"),e.style.borderColor="var(--gray-300)"):(n.textContent=r,n.classList.add("show"),e.style.borderColor="var(--error)"),s}t&&t.addEventListener("submit",e=>{if(e.preventDefault(),function(){let e=!0;document.querySelectorAll(".form-error").forEach(e=>{e.textContent="",e.classList.remove("show")}),n.forEach(e=>e.style.borderColor="var(--gray-300)");const t=document.getElementById("name"),o=document.getElementById("phone"),s=document.getElementById("branch"),a=document.getElementById("project");return t&&!r(t)&&(e=!1),o&&!r(o)&&(e=!1),s&&!r(s)&&(e=!1),a&&!r(a)&&(e=!1),e}()){const e=t.querySelector(".form-submit");e.classList.add("loading"),e.disabled=!0,setTimeout(()=>{e.classList.remove("loading"),e.disabled=!1,t.reset(),s(),function(){const e=document.getElementById("popup");e&&(e.classList.add("active"),setTimeout(()=>{e.classList.remove("active")},4e3))}()},1200)}}),n.forEach(e=>{e.addEventListener("input",()=>{s(),r(e)}),e.addEventListener("focus",()=>{e.parentElement.querySelector(".input-icon").style.color="var(--primary)"}),e.addEventListener("blur",()=>{e.parentElement.querySelector(".input-icon").style.color="var(--gray-500)",r(e)})}),window.closePopup=function(){const e=document.getElementById("popup");e&&e.classList.remove("active")}}),document.addEventListener("DOMContentLoaded",()=>{setTimeout(()=>{const e=document.getElementById("callbackPopup");e&&e.classList.add("active")},1e4);const e=document.getElementById("callbackForm");e&&e.addEventListener("submit",t=>{t.preventDefault();const o=document.getElementById("callbackPhone"),n=document.getElementById("callbackError");/^\d{10}$/.test(o.value.trim())?(n.textContent="",n.classList.remove("show"),o.style.borderColor="transparent",closeCallbackPopup(),showAckPopup(),e.reset()):(n.textContent="Enter a valid 10-digit phone number",n.classList.add("show"),o.style.borderColor="#ef4444")})});
document.addEventListener("contextmenu", e => e.preventDefault());
document.addEventListener("keydown", e => {
    if (e.key === "F12" || (e.ctrlKey && e.shiftKey && ["I","J","C"].includes(e.key))) {
        e.preventDefault();
    }
});
